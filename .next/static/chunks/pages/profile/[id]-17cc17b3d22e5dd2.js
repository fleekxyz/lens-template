(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{2494:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[id]",function(){return e(6677)}])},6677:function(n,r,e){"use strict";e.r(r),e.d(r,{default:function(){return D}});var t=e(4051),o=e.n(t),i=e(5893),u=e(1163),c=e(7294),a=e(2117),s=e(6076),l=e(294),d=e(5340),f=e(1438),p=e(8854),v=e(8480);function x(n,r,e,t,o,i,u){try{var c=n[i](u),a=c.value}catch(s){return void e(s)}c.done?r(a):Promise.resolve(a).then(t,o)}function h(n){return function(){var r=this,e=arguments;return new Promise((function(t,o){var i=n.apply(r,e);function u(n){x(i,t,o,u,c,"next",n)}function c(n){x(i,t,o,u,c,"throw",n)}u(void 0)}))}}function g(n,r){return r||(r=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))}function w(){var n=g(["\n          ",";\n          background-image: url(",");\n          background-color: ",";\n        "]);return w=function(){return n},n}function m(){var n=g(["\n              ",";\n              background-color: profile.color;\n            "]);return m=function(){return n},n}function b(){var n=g(["\n  font-weight: 500;\n"]);return b=function(){return n},n}function k(){var n=g(["\n  text-align: center;\n  margin: 0;\n"]);return k=function(){return n},n}function j(){var n=g(["\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, .15);\n  padding: 25px;\n  border-radius: 8px;\n"]);return j=function(){return n},n}function N(){var n=g(["\n  font-weight: 600;\n"]);return N=function(){return n},n}function y(){var n=g(["\n  margin: 0px 0px 15px;\n"]);return y=function(){return n},n}function _(){var n=g(["\n  background-color: white;\n  margin-bottom: 15px;\n  padding: 5px 25px;\n  border-radius: 15px;\n  border: 1px solid #ededed;\n"]);return _=function(){return n},n}function C(){var n=g(["\n  line-height: 26px;\n"]);return C=function(){return n},n}function P(){var n=g(["\n  margin: 15px 0px 5px;\n"]);return P=function(){return n},n}function E(){var n=g(["\n  margin: 0px 0px 5px;\n  color: #b900c9;\n"]);return E=function(){return n},n}function I(){var n=g(["\n  width: 900px;\n  max-height: 300px;\n  height: 300px;\n  overflow: hidden;\n  background-size: cover;\n  background-position: center;\n"]);return I=function(){return n},n}function T(){var n=g(["\n  width: 200px;\n  height: 200px;\n  max-width: 200px;\n  border: 10px solid white;\n  border-radius: 12px;\n"]);return T=function(){return n},n}function O(){var n=g(["\n  margin-top: 20px;\n  display: flex;\n  flex-direction: row;\n"]);return O=function(){return n},n}function S(){var n=g(["\n  margin-left: 20px;\n  flex: 1;\n"]);return S=function(){return n},n}function q(){var n=g(["\n  padding-top: 50px;\n"]);return q=function(){return n},n}function z(){var n=g(["\n  border: 2px solid rgb(249, 92, 255);\n  outline: none;\n  margin-top: 15px;\n  color: rgb(249, 92, 255);\n  padding: 13px;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all .35s;\n  font-weight: 700;\n  width: 100%;\n  letter-spacing: .75px;\n  &:hover {\n    background-color: rgb(249, 92, 255);\n    color: white;\n  }\n"]);return z=function(){return n},n}function D(){var n,r,e,t=(0,c.useState)(),x=t[0],g=t[1],b=(0,c.useState)([]),k=b[0],j=b[1],N=(0,c.useState)(),y=N[0],_=N[1],C=(0,c.useState)(""),P=C[0],E=C[1],I=(0,u.useRouter)(),T=(0,c.useContext)(d.I),O=I.query.id,S=T.userAddress,q=T.profile;function z(){return(z=h(o().mark((function n(){var r,e,t,i,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.eI)();case 3:return r=n.sent,n.next=6,r.mutation(a.KD,{request:{profile:O}}).toPromise();case 6:return e=n.sent,t=e.data.createUnfollowTypedData.typedData,i=new s.CH(t.domain.verifyingContract,v,(0,f.TC)()),n.next=11,i.burn(t.value.tokenId);case 11:return u=n.sent,setTimeout((function(){_(!1)}),2500),n.next=15,u.wait();case 15:console.log("successfully unfollowed ... ".concat(x.handle)),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),console.log("error:",n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,18]])})))).apply(this,arguments)}function D(){return(D=h(o().mark((function n(){var r,e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.In)(O);case 3:r=n.sent,e=r.profile,t=r.publications,g(e),j(t),E("loaded"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("error fetching profile...",n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function W(){return(W=h(o().mark((function n(){var r,e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.eI)();case 2:return r=n.sent,n.next=5,r.query(a.rE,{request:{followInfos:[{followerAddress:S,profileId:O}]}}).toPromise();case 5:e=n.sent,_(e.data.doesFollow[0].follows);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Y(){return(Y=h(o().mark((function n(){var r,e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new s.CH(a.Su,v,(0,f.TC)()),n.prev=1,n.next=4,r.follow([O],[0]);case 4:return e=n.sent,setTimeout((function(){_(!0)}),2500),n.next=8,e.wait();case 8:console.log("successfully followed ... ".concat(x.handle)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log("error: ",n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))).apply(this,arguments)}if((0,c.useEffect)((function(){O&&function(){D.apply(this,arguments)}(),O&&S&&function(){W.apply(this,arguments)}()}),[O,S]),!x)return null;var Z=(null===q||void 0===q?void 0:q.id)===O;return(0,i.jsxs)("div",{className:Q,children:[(0,i.jsx)("div",{className:(0,l.iv)(w(),G,null===(n=x.coverPicture)||void 0===n?void 0:n.original.url,x.color)}),(0,i.jsxs)("div",{className:L,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("img",{className:(0,l.iv)(m(),J),src:null===(r=x.picture)||void 0===r||null===(e=r.original)||void 0===e?void 0:e.url}),(0,i.jsx)("h3",{className:R,children:x.name}),(0,i.jsx)("p",{className:B,children:x.handle}),(0,i.jsx)("p",{className:A,children:x.bio}),(0,i.jsxs)("div",{children:[S&&!Z?y?(0,i.jsx)("button",{onClick:function(){return z.apply(this,arguments)},className:V,children:"Unfollow"}):(0,i.jsx)("button",{onClick:function(){return Y.apply(this,arguments)},className:V,children:"Follow"}):null,Z&&(0,i.jsx)("button",{onClick:function(){I.push("/edit-profile")},className:V,children:"Edit Profile"})]})]}),(0,i.jsxs)("div",{className:M,children:[(0,i.jsx)("h3",{className:X,children:"Posts"}),k.map((function(n,r){return(0,i.jsx)("div",{className:K,children:(0,i.jsx)(p.D,{children:n.metadata.content})},r)})),"loaded"===P&&!k.length&&(0,i.jsx)("div",{className:H,children:(0,i.jsxs)("p",{className:F,children:[(0,i.jsx)("span",{className:U,children:x.handle})," has not posted yet!"]})})]})]})]})}var A=(0,l.iv)(b()),F=(0,l.iv)(k()),H=(0,l.iv)(j()),U=(0,l.iv)(N()),X=(0,l.iv)(y()),K=(0,l.iv)(_()),R=((0,l.iv)(C()),(0,l.iv)(P())),B=(0,l.iv)(E()),G=(0,l.iv)(I()),J=(0,l.iv)(T()),L=(0,l.iv)(O()),M=(0,l.iv)(S()),Q=(0,l.iv)(q()),V=(0,l.iv)(z())}},function(n){n.O(0,[854,774,888,179],(function(){return r=2494,n(n.s=r);var r}));var r=n.O();_N_E=r}]);